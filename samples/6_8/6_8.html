<html>
<head>
<script type='text/javascript'>
function request(){
   var xhttp=new XMLHttpRequest();
   xhttp.onreadystatechange=function(){
   if (xhttp.readyState==0){
      document.getElementById('rs0').style.display='block';
      document.getElementById('res0').innerHTML=responseText; 
   }  
   if (xhttp.readyState==1){
      document.getElementById('rs1').style.display='block';
      document.getElementById('res1').innerHTML=responseText; 
   }
   if (xhttp.readyState==2){
      document.getElementById('rs2').style.display='block';
      document.getElementById('res2').innerHTML=responseText;
   }
   if (xhttp.readyState==3){
      document.getElementById('rs3').style.display='block';
      document.getElementById('res3').innerHTML=responseText;
   }
   if (xhttp.readyState==4){
      document.getElementById('rs4').style.display='block';
      document.getElementById('res4').innerHTML=xhttp.responseText;
   }}
   xhttp.open('GET','state.php',true);
   xhttp.send();
}
</script>
</head>
<body>
<input type='button' value='Обратится к серверу' onclick='request()' />
<p id='rs0' style='display:none'>Содержимое responseText при readyState=0: <b><span id='res0'></span></b></p>
<p id='rs1' style='display:none'>Содержимое responseText при readyState=1: <b><span id='res1'></span></b></p>
<p id='rs2' style='display:none'>Содержимое responseText при readyState=2: <b><span id='res2'></span></b></p>
<p id='rs3' style='display:none'>Содержимое responseText при readyState=3: <b><span id='res3'></span></b></p>
<p id='rs4' style='display:none'>Содержимое responseText при readyState=4: <b><span id='res4'></span></b></p>
</body>
</html>
